hf=function(){const a={};function b(e,d,g={args:[],wait:50,isImmediate:!1,immediateFirst:!1}){a[d]||(a[d]=g);const b=a[d];let c=b.timeoutId;const f=this,h=function(){c=void 0,b.isImmediate||e.apply(f,b.args)},i=(b.isImmediate||b.immediateFirst)&&c===void 0;b.immediateFirst=!1,c!==void 0&&clearTimeout(c),b.timeoutId=setTimeout(h,b.wait),i&&e.apply(f,b.args)}function c(b){var a=b.form;if(!a)return;(a.querySelector("button")||a.querySelector("[type='submit']"))?.click()}document.querySelectorAll("[hf-hidden]").forEach(a=>a instanceof HTMLElement&&(a.style.visibility="hidden"));var d={debounce:b,click:c};document.addEventListener("submit",async a=>{try{const b=a.target,c=document.activeElement;if(b.hasAttribute("hf-ignore")||c.hasAttribute("hf-ignore"))return;a.preventDefault();const k=new FormData(b),h=c.formMethod||b.method,f=new URL(c.getAttribute("formAction")&&c.formAction||b.action),i={method:h,credentials:"same-origin",headers:new Headers({"HF-Request":"true"})};if(h==="post")i.body=new URLSearchParams([...k]);else{const a=new URLSearchParams(k).toString();a&&(f.search+=(f.search?"&":"?")+a)}const g=await fetch(f.href,i),j=g.headers.get("content-type"),d=j.indexOf("application/json")>-1?"json":j.indexOf("html")>-1?"html":"text";if(d&&d.indexOf("application/json")!==-1){let a=JSON.parse(await g.json());document.dispatchEvent(new CustomEvent("received-json",{bubbles:!1,detail:{data:a,form:b,button:c}}))}else{let a=await g.text();e({contentType:d,text:a,form:b})}}catch(c){console.error(c);var b=a?.target;b instanceof HTMLFormElement&&b.submit()}});function e(a){if(a.contentType!=="html")return;const c=document.createElement("template");c.innerHTML=a.text.trim();for(const b of c.content.childNodes){if(!(b instanceof HTMLElement))continue;const e=b.getAttribute("target");let d,f;switch(e?(d=document.querySelector(e),f=b.getAttribute("hf-swap")||"append"):b.id?d=document.getElementById(b.id):d=document.body,d||(d=a.form),f){case"append":d.append(b);break;case"prepend":d.prepend(b);break;case"replace":default:d.replaceWith(b)}}var b=document.querySelector("[autofocus]");b instanceof HTMLElement&&(b.removeAttribute("autofocus"),b.focus())}return d}()